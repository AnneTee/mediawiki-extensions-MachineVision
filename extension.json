{
	"name": "MachineVision",
	"version": "0.1.0",
	"author": [
		"Wikimedia Product Infrastructure Team"
	],
	"url": "https://www.mediawiki.org/wiki/Extension:MachineVision",
	"descriptionmsg": "machinevision-desc",
	"license-name": "GPL-2.0-or-later",
	"type": "other",
	"requires": {
		"MediaWiki": ">= 1.34",
		"extensions": {
			"WikibaseMediaInfo": "*"
		}
	},
	"AutoloadNamespaces": {
		"MediaWiki\\Extension\\MachineVision\\": "src/"
	},
	"AutoloadClasses": {
		"MediaWiki\\Extension\\MachineVision\\MockHelper": "tests/helper/MockHelper.php"
	},
	"AvailableRights": [
		"imagelabel-review"
	],
	"GroupPermissions": {
		"user": {
			"imagelabel-review": true
		}
	},
	"GrantPermissions": {
		"editpage": {
			"imagelabel-review": true
		}
	},
	"Hooks": {
		"UploadComplete": "MediaWiki\\Extension\\MachineVision\\Hooks::onUploadComplete",
		"InfoAction": "MediaWiki\\Extension\\MachineVision\\Hooks::onInfoAction",
		"LoadExtensionSchemaUpdates": "MediaWiki\\Extension\\MachineVision\\Hooks::onLoadExtensionSchemaUpdates",
		"UnitTestsAfterDatabaseSetup": "MediaWiki\\Extension\\MachineVision\\Hooks::onUnitTestsAfterDatabaseSetup",
		"UnitTestsBeforeDatabaseTeardown": "MediaWiki\\Extension\\MachineVision\\Hooks::onUnitTestsBeforeDatabaseTeardown"
	},
	"APIModules": {
		"reviewimagelabels": {
			"class": "MediaWiki\\Extension\\MachineVision\\Api\\ApiReviewImageLabels",
			"factory": "MediaWiki\\Extension\\MachineVision\\Api\\ApiReviewImageLabels::factory"
		}
	},
	"APIListModules": {
		"unreviewedimagelabels": {
			"class": "MediaWiki\\Extension\\MachineVision\\Api\\ApiQueryUnreviewedImageLabels",
			"factory": "MediaWiki\\Extension\\MachineVision\\Api\\ApiQueryUnreviewedImageLabels::factory"
		}
	},
	"APIPropModules": {
		"imagelabels": {
			"class": "MediaWiki\\Extension\\MachineVision\\Api\\ApiQueryImageLabels",
			"factory": "MediaWiki\\Extension\\MachineVision\\Api\\ApiQueryImageLabels::factory"
		}
	},
	"SpecialPages": {
		"SuggestedTags": "MediaWiki\\Extension\\MachineVision\\Special\\SpecialSuggestedTags"
	},
	"ServiceWiringFiles": [
		"ServiceWiring.php"
	],
	"MessagesDirs": {
		"MachineVision": [
			"i18n",
			"i18n/api"
		]
	},
	"ExtensionMessagesFiles": {
		"MachineVisionAlias": "MachineVision.alias.php"
	},
	"ConfigRegistry": {
		"MachineVision": "GlobalVarConfig::newInstance"
	},
	"config": {
		"MachineVisionCluster": {
			"value": false,
			"description": "Database cluster to use for storing the data. False means the cluster of the current wiki will be used."
		},
		"MachineVisionDatabase": {
			"value": false,
			"description": "Database to use for storing the data. False means use the database of the current wiki. To use a table prefix, use '<database>-<prefix'>' format."
		},
		"MachineVisionHandlers": {
			"value": {},
			"description": "Configuration for the handlers. Keys are provider names, values are ObjectFactory specifications."
		},
		"MachineVisionRequestLabelsOnUploadComplete": {
			"value": false,
			"description": "Whether to request image labels from the configured provider(s) for image files on upload complete."
		},
		"MachineVisionRequestLabelsFromWikidataPublicApi": {
			"value": false,
			"description": "If true, request labels for item IDs from the Wikidata public API. Otherwise, look them up in the configured Wikibase repo. Public API usage is intended for testing only."
		},
		"MachineVisionMinImageWidth": {
			"value": 150,
			"description": "Minimum width (in px) of an image for the image to qualify for suggested tags."
		},
		"MachineVisionCategoryBlacklist": {
			"value": [],
			"description": "Omit images with file pages linked to these categories from suggested tags. Category names should use underscores in place of spaces and include the 'Category:' prefix."
		},
		"MachineVisionTemplateBlacklist": {
			"value": [],
			"description": "Omit images with file pages linked to these templates from suggested tags. Template names should use underscores in place of spaces and include the 'Template:' prefix."
		}
	},
	"ResourceFileModulePaths": {
		"localBasePath": "",
		"remoteExtPath": "MachineVision"
	},
	"ResourceModules": {
		"ext.MachineVision": {
			"packageFiles": [
				"resources/init.js",
				"resources/base/DOMLessGroupWidget.js",
				"resources/base/TemplateRenderingDOMLessGroupWidget.js",
				"resources/models/ImageData.js",
				"resources/models/SuggestionData.js",
				"resources/widgets/ImageWithSuggestionsWidget.js",
				"resources/widgets/SuggestedTagsCardstack.js",
				"resources/widgets/SuggestedTagsPage.js",
				"resources/widgets/SuggestionsGroupWidget.js",
				"resources/widgets/SuggestionWidget.js"
			],
			"styles": [
				"resources/widgets/ImageWithSuggestionsWidget.less",
				"resources/widgets/SuggestedTagsCardstack.less",
				"resources/widgets/SuggestedTagsPage.less",
				"resources/widgets/SuggestionsGroupWidget.less",
				"resources/widgets/SuggestionWidget.less"
			],
			"dependencies": [
				"oojs",
				"oojs-ui-core",
				"oojs-ui-widgets",
				"oojs-ui-windows",
				"mediawiki.template.mustache+dom",
				"wikibase.api.RepoApi"
			],
			"templates": [
				"resources/widgets/ImageWithSuggestionsWidget.mustache+dom",
				"resources/widgets/SuggestedTagsCardstack.mustache+dom",
				"resources/widgets/SuggestedTagsPage.mustache+dom",
				"resources/widgets/SuggestionsGroupWidget.mustache+dom",
				"resources/widgets/SuggestionWidget.mustache+dom"
			],
			"messages": [
				"machinevision-machineaidedtagging",
				"machinevision-machineaidedtagging-intro",
				"machinevision-machineaidedtagging-tabs-heading",
				"machinevision-machineaidedtagging-popular-tab",
				"machinevision-machineaidedtagging-user-tab",
				"machinevision-machineaidedtagging-license-information",
				"machinevision-personal-uploads-login-message",
				"machinevision-publish",
				"machinevision-publish-title",
				"machinevision-more",
				"machinevision-more-title",
				"machinevision-reset",
				"machinevision-reset-title",
				"machinevision-skip",
				"machinevision-skip-title",
				"machinevision-suggestion-confirm-title",
				"machinevision-suggestion-confirm-undo-title",
				"machinevision-loading-message"
			],
			"targets": [
				"mobile",
				"desktop"
			]
		}
	},
	"manifest_version": 2
}
